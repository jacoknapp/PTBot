{
    "_comment": "Pterodactyl Egg for PTBot - Discord bot for Pterodactyl server management",
    "meta": {
        "version": "PTDL_v2",
        "update_url": null
    },
    "exported_at": "2025-01-12T00:00:00+00:00",
    "name": "PTBot",
    "author": "jacoknapp",
    "description": "A Discord bot that lets you manage your Pterodactyl servers directly from Discord. Supports slash commands for server control, status checks, and console commands.",
    "features": null,
    "docker_images": {
        "ghcr.io/jacoknapp/ptbot:latest": "ghcr.io/jacoknapp/ptbot:latest"
    },
    "file_denylist": [],
    "startup": "./ptbot -config /data/config.json",
    "config": {
        "files": "{}",
        "logs": "{}",
        "startup": {
            "done": "âœ… Logged in as"
        },
        "stop": "^C"
    },
    "scripts": {
        "installation": {
            "script": "#!/bin/bash\n# PTBot installation script\n\n# Create data directory\nmkdir -p /mnt/server/data\n\n# Create basic config.json if it doesn't exist\necho 'Creating default config.json...'\ncat > /mnt/server/data/config.json << 'EOF'\n{\n  \"discord_token\": \"${DISCORD_TOKEN}\",\n  \"ptero_base_url\": \"${PTERO_BASE_URL}\",\n  \"ptero_client_token\": \"${PTERO_CLIENT_TOKEN}\",\n  \"alert_channel_id\": \"${ALERT_CHANNEL_ID}\",\n  \"health_check_interval\": \"${HEALTH_CHECK_INTERVAL}\",\n  \"allowed_guild_ids\": ${ALLOWED_GUILD_IDS},\n  \"allowed_role_ids\": ${ALLOWED_ROLE_IDS},\n  \"allowed_user_ids\": ${ALLOWED_USER_IDS}\n}\nEOF\n\necho 'PTBot installation completed.'",
            "container": "alpine:latest",
            "entrypoint": "sh"
        }
    },
    "variables": [
        {
            "name": "Discord Token",
            "description": "Your Discord bot token from https://discord.com/developers/applications",
            "env_variable": "DISCORD_TOKEN",
            "default_value": "",
            "user_viewable": false,
            "user_editable": true,
            "rules": "required|string",
            "field_type": "text"
        },
        {
            "name": "Pterodactyl Base URL",
            "description": "Base URL of your Pterodactyl panel (e.g., https://panel.example.com)",
            "env_variable": "PTERO_BASE_URL",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|url",
            "field_type": "text"
        },
        {
            "name": "Pterodactyl Client Token",
            "description": "Pterodactyl client API token for server management",
            "env_variable": "PTERO_CLIENT_TOKEN",
            "default_value": "",
            "user_viewable": false,
            "user_editable": true,
            "rules": "required|string",
            "field_type": "text"
        },
        {
            "name": "Alert Channel ID",
            "description": "Discord channel ID for health check alerts (optional)",
            "env_variable": "ALERT_CHANNEL_ID",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string",
            "field_type": "text"
        },
        {
            "name": "Health Check Interval",
            "description": "How often to check server health (e.g., 2m, 5m, 1h)",
            "env_variable": "HEALTH_CHECK_INTERVAL",
            "default_value": "2m",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string",
            "field_type": "text"
        },
        {
            "name": "Allowed Guild IDs",
            "description": "Comma-separated list of Discord server (guild) IDs allowed to use the bot",
            "env_variable": "ALLOWED_GUILD_IDS",
            "default_value": "[]",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string",
            "field_type": "text"
        },
        {
            "name": "Allowed Role IDs",
            "description": "Comma-separated list of Discord role IDs allowed to use the bot",
            "env_variable": "ALLOWED_ROLE_IDS",
            "default_value": "[]",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string",
            "field_type": "text"
        },
        {
            "name": "Allowed User IDs",
            "description": "Comma-separated list of Discord user IDs allowed to use the bot",
            "env_variable": "ALLOWED_USER_IDS",
            "default_value": "[]",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string",
            "field_type": "text"
        },
        {
            "name": "Insecure Mode",
            "description": "Allow untrusted TLS certificates for Pterodactyl panel (not recommended for production)",
            "env_variable": "PTBOT_INSECURE",
            "default_value": "false",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|boolean",
            "field_type": "text"
        }
    ]
}